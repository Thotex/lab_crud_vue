(function(){"use strict";var e={732:function(e,t,a){var n=a(5130),r=a(6768),i=a(144),o=a(1387);const s=e=>((0,r.Qi)("data-v-077a6a89"),e=e(),(0,r.jt)(),e),c={class:"navbar w"},l={class:"navbar navbar-expand-lg bg-body-tertiary w-100"},u={class:"container-fluid"},d=s((()=>(0,r.Lk)("a",{class:"navbar-brand col-2",href:"#"},"InfoPersonas",-1))),p=s((()=>(0,r.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,r.Lk)("span",{class:"navbar-toggler-icon"})],-1))),m={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},f={class:"navbar-nav"};function v(e,t){const a=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",c,[(0,r.Lk)("nav",l,[(0,r.Lk)("div",u,[d,p,(0,r.Lk)("div",m,[(0,r.Lk)("div",f,[(0,r.bF)(a,{class:"nav-link",to:{name:"home"}},{default:(0,r.k6)((()=>[(0,r.eW)("Home")])),_:1}),(0,r.bF)(a,{class:"nav-link",to:{name:"personas"}},{default:(0,r.k6)((()=>[(0,r.eW)("Personas")])),_:1}),(0,r.bF)(a,{class:"nav-link",to:{name:"lugares"}},{default:(0,r.k6)((()=>[(0,r.eW)("Lugares")])),_:1}),(0,r.bF)(a,{class:"nav-link",to:{name:"viviendas"}},{default:(0,r.k6)((()=>[(0,r.eW)("Viviendas")])),_:1})])])])])])}var b=a(1241);const h={},k=(0,b.A)(h,[["render",v],["__scopeId","data-v-077a6a89"]]);var y=k,g=(0,r.pM)({__name:"App",setup(e){const t=(0,r.WQ)("crudService");return(0,r.sV)((async()=>{await t.fetchTableDataAll()})),(e,t)=>((0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(y),(0,r.bF)((0,i.R1)(o.Tp))]))}});const w=g;var L=w,C=a(4458);(0,C.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});const _=(0,r.Lk)("h1",{class:"title"},"Home",-1),A=[_];function T(e,t){return(0,r.uX)(),(0,r.CE)("div",null,A)}const M={},I=(0,b.A)(M,[["render",T]]);var E=I,D=(a(4114),a(4232));const x=e=>((0,r.Qi)("data-v-38d4ef5b"),e=e(),(0,r.jt)(),e),j={key:0,class:"table-bordered w-100"},F={class:"table-header"},O=x((()=>(0,r.Lk)("th",{scope:"col",class:"w-25"},"Acciones",-1))),R=["onClick"],V={class:"w-25"},X=["onClick"],K=["onClick"];var S=(0,r.pM)({__name:"TableComponent",props:{headers:{type:Array},data:{type:Array}},emits:["returnSelectedRow","deleteCurrentRow","editCurrentRow"],setup(e,{emit:t}){const a=e,n=t,i=e=>{n("returnSelectedRow",e)},o=e=>{n("deleteCurrentRow",e)},s=e=>{n("editCurrentRow",e)};return(e,t)=>((0,r.uX)(),(0,r.CE)("div",null,[a.data&&a.headers?((0,r.uX)(),(0,r.CE)("table",j,[(0,r.Lk)("tr",F,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.headers,((e,t)=>((0,r.uX)(),(0,r.CE)("th",{scope:"col",key:t},(0,D.v_)(e),1)))),128)),O]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.data,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{class:"table-row",key:t,onClick:t=>i(e)},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.headers,((t,a)=>((0,r.uX)(),(0,r.CE)("td",{key:a},(0,D.v_)(e[t]),1)))),128)),(0,r.Lk)("td",V,[(0,r.Lk)("button",{class:"btn btn-danger",onClick:t=>o(e)},"Eliminar",8,X),(0,r.Lk)("button",{class:"btn btn-primary",onClick:t=>s(e)},"Editar",8,K)])],8,R)))),128))])):(0,r.Q3)("",!0)]))}});const P=(0,b.A)(S,[["__scopeId","data-v-38d4ef5b"]]);var W=P;const N={class:"card w-50 my-5 mx-auto"},Q={class:"card-header"},q={class:"card-body"},z={class:"w-50 my-5 mx-auto"};var J=(0,r.pM)({__name:"MunicipiosView",setup(e){const t=(0,r.WQ)("crudService"),a=((0,i.KR)({name:""}),["id","name","nombre_departamento"]),n=t.getTableData("Municipios"),o=t.getTableData("Departamentos");let s=(0,i.KR)(!1);const c=(0,i.KR)([]);(0,r.sV)((()=>{c.value=n.value.map((e=>({id:e["id"],name:e["name"],nombre_departamento:o.value.find((t=>t["id"]===e["id_departamento"]))["name"]})))})),(0,r.sV)((()=>{s.value=!0}));const l=async e=>{await t.deleteDataFromTable("Municipios",e["id"]),await t.fetchTableData("Municipios")},u=async e=>{await t.fetchDataById("Municipios",e["id"]),Ze.push({name:"edit-municipio",params:{id:e["id"]}})};return(e,t)=>{const n=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",N,[(0,r.Lk)("div",Q,[(0,r.Lk)("h4",null,[(0,r.eW)(" Municipios "),(0,r.bF)(n,{to:{name:"create-municipio"},class:"btn btn-primary float-end"},{default:(0,r.k6)((()=>[(0,r.eW)("Crear municipio")])),_:1})])]),(0,r.Lk)("div",q,[(0,i.R1)(s)?((0,r.uX)(),(0,r.Wv)(W,{key:0,headers:a,data:c.value,onDeleteCurrentRow:l,onEditCurrentRow:u},null,8,["data"])):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",z,[(0,r.bF)(n,{class:"btn btn-primary my-3 mx-auto",to:{name:"lugares"}},{default:(0,r.k6)((()=>[(0,r.eW)("Volver")])),_:1})])],64)}}});const Z=J;var B=Z;const U={class:"card w-50 my-5 mx-auto"},G=(0,r.Fv)('<div class="card-header"><h4> Crear municipio </h4></div><div class="card-body"><form><div class="form-group"><label for="municipio">Municipio</label><input type="text" class="form-control" id="municipio" placeholder="Municipio"></div><button type="submit" class="btn btn-primary">Submit</button></form></div>',2),H=[G];function Y(e,t){return(0,r.uX)(),(0,r.CE)("div",U,H)}const $={},ee=(0,b.A)($,[["render",Y]]);var te=ee;const ae=e=>((0,r.Qi)("data-v-7aea9044"),e=e(),(0,r.jt)(),e),ne={class:"card w-50 my-5 mx-auto"},re=ae((()=>(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("h4",null,"Editar municipio")],-1))),ie={class:"card-body"},oe={class:"form-group"},se=ae((()=>(0,r.Lk)("label",{for:"municipio"},"Municipio",-1))),ce={class:"w-50 my-5 mx-auto"};var le=(0,r.pM)({__name:"EditMunicipioView",setup(e){const t=(0,o.lq)(),a=t.params.id,s=(0,r.WQ)("crudService"),c=(0,i.KR)({name:""});(0,r.sV)((async()=>{const e=await s.getCurrentValue("Municipios").value[0];e&&(c.value.name=e.name)}));const l=async()=>{const e={name:c.value.name};console.log(e),await s.updateDataInTable("Municipios",a,e),await s.fetchTableData("Municipios"),Ze.push({name:"municipios"})};return(e,t)=>{const a=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",ne,[re,(0,r.Lk)("div",ie,[(0,r.Lk)("form",null,[(0,r.Lk)("div",oe,[se,(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",id:"municipio",placeholder:"Municipio","onUpdate:modelValue":t[0]||(t[0]=e=>c.value.name=e)},null,512),[[n.Jo,c.value.name]])]),(0,r.Lk)("button",{type:"submit",class:"btn btn-primary my-3",onClick:(0,n.D$)(l,["prevent"])},"Submit")])])]),(0,r.Lk)("div",ce,[(0,r.bF)(a,{class:"btn btn-primary my-3 mx-auto",to:{name:"municipios"}},{default:(0,r.k6)((()=>[(0,r.eW)("Volver")])),_:1})])])}}});const ue=(0,b.A)(le,[["__scopeId","data-v-7aea9044"]]);var de=ue;const pe={class:"container d-flex justify-content-center"};function me(e,t){return(0,r.uX)(),(0,r.CE)("div",pe)}const fe={},ve=(0,b.A)(fe,[["render",me]]);var be=ve;const he={class:"card"},ke=(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("h4",null,"d")],-1),ye=[ke];function ge(e,t){return(0,r.uX)(),(0,r.CE)("div",he,ye)}const we={},Le=(0,b.A)(we,[["render",ge]]);var Ce=Le;const _e={class:"container"},Ae=(0,r.Lk)("div",{class:"row"},[(0,r.Lk)("div",{class:"col-12 text-center my-5"},[(0,r.Lk)("h1",null,"Lugares")])],-1),Te={class:"row justify-content-center height-100"},Me={class:"col-sm-4 mx-auto"},Ie={class:"card h-100"},Ee=(0,r.Lk)("img",{src:"https://i.pinimg.com/originals/91/6a/19/916a192397e5c0838090ab98449f76a0.jpg",class:"card-img-top img-fluid",alt:"Image Description 1"},null,-1),De={class:"card-body d-flex flex-column"},xe={class:"mt-auto"},je=(0,r.Lk)("h5",{class:"card-title"},"Departamentos",-1),Fe=(0,r.Lk)("p",{class:"card-text"},"Aquí puedes ver, crear, editar y eliminar los departamentos.",-1),Oe={class:"col-sm-4 mx-auto"},Re={class:"card h-100"},Ve=(0,r.Lk)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/1/18/Mapa_de_Boyac%C3%A1_%28pol%C3%ADtico%29.svg",class:"card-img-top img-fluid",alt:"Image Description 2"},null,-1),Xe={class:"card-body d-flex flex-column"},Ke={class:"mt-auto"},Se=(0,r.Lk)("h5",{class:"card-title"},"Municipios",-1),Pe=(0,r.Lk)("p",{class:"card-text"},"Aquí puedes ver, crear, editar y eliminar los municipios.",-1);function We(e,t){const a=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",_e,[Ae,(0,r.Lk)("div",Te,[(0,r.Lk)("div",Me,[(0,r.Lk)("div",Ie,[Ee,(0,r.Lk)("div",De,[(0,r.Lk)("div",xe,[je,Fe,(0,r.bF)(a,{to:{name:"municipios"},class:"btn btn-primary"},{default:(0,r.k6)((()=>[(0,r.eW)("Acceder")])),_:1})])])])]),(0,r.Lk)("div",Oe,[(0,r.Lk)("div",Re,[Ve,(0,r.Lk)("div",Xe,[(0,r.Lk)("div",Ke,[Se,Pe,(0,r.bF)(a,{to:{name:"municipios"},class:"btn btn-primary"},{default:(0,r.k6)((()=>[(0,r.eW)("Acceder")])),_:1})])])])])])])}const Ne={},Qe=(0,b.A)(Ne,[["render",We]]);var qe=Qe;const ze=[{path:"/",name:"home",component:E},{path:"/viviendas",name:"viviendas",component:Ce},{path:"/viviendas/create",name:"create-vivienda",component:Ce},{path:"/viviendas/edit/:id",name:"edit-vivienda",component:Ce},{path:"/lugares",name:"lugares",component:qe},{path:"/lugares/municipios",name:"municipios",component:B},{path:"/lugares/municipios/create",name:"create-municipio",component:te},{path:"/lugares/municipios/edit/:id",name:"edit-municipio",component:de},{path:"/personas",name:"personas",component:be}],Je=(0,o.aE)({history:(0,o.LA)("/"),routes:ze});var Ze=Je,Be=a(782),Ue=(0,Be.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}}),Ge=(a(8077),a(1114));class He{constructor(e){(0,Ge.A)(this,"client",void 0),(0,Ge.A)(this,"tables",["Municipios","Departamentos","Viviendas","TipoViviendas","Personas","Familias","TipoHogar"]),(0,Ge.A)(this,"tableData",{Municipios:(0,i.KR)([]),Personas:(0,i.KR)([]),Familias:(0,i.KR)([]),Viviendas:(0,i.KR)([])}),(0,Ge.A)(this,"currentValue",{Municipios:(0,i.KR)({}),Personas:(0,i.KR)({}),Familias:(0,i.KR)({}),Viviendas:(0,i.KR)({})}),(0,Ge.A)(this,"fetchDataById",(async(e,t)=>{if(e in this.tables)console.error("Table not found");else try{const{data:a,error:n}=await this.client.from(e).select("*").eq("id",t);if(n)return void console.error(n);this.currentValue[e].value=a}catch(a){console.error(a)}})),(0,Ge.A)(this,"getCurrentValue",(e=>{if(!(e in this.tables))return this.currentValue[e];console.error("Table not found")})),(0,Ge.A)(this,"getTableData",(e=>{if(!(e in this.tables))return this.tableData[e];console.error("Table not found")})),(0,Ge.A)(this,"fetchTableData",(async e=>{if(e in this.tables)console.error("Table not found");else try{const{data:t,error:a}=await this.client.from(e).select("*");if(a)return void console.error(a);this.tableData[e].value=t}catch(t){console.error(t)}})),(0,Ge.A)(this,"fetchTableDataAll",(async()=>{await this.fetchTableData("Municipios"),await this.fetchTableData("Personas"),await this.fetchTableData("Familias"),await this.fetchTableData("Viviendas")})),(0,Ge.A)(this,"insertDataToTable",(async(e,t)=>{if(e in this.tables)console.error("Table not found");else try{const{error:a}=await this.client.from(e).insert([t]);if(a)return void console.error(a)}catch(a){console.error(a)}})),(0,Ge.A)(this,"deleteDataFromTable",(async(e,t)=>{if(e in this.tables)console.error("Table not found");else try{const{error:a}=await this.client.from(e).delete().eq("id",t);if(a)return void console.error(a)}catch(a){console.error(a)}})),(0,Ge.A)(this,"updateDataInTable",(async(e,t,a)=>{if(e in this.tables)console.error("Table not found");else try{const{error:n}=await this.client.from(e).update(a).eq("id",t);if(n)return void console.error(n)}catch(n){console.error(n)}})),this.client=e}}var Ye=He,$e=a(9399);const et=(0,$e.UU)("https://kiqthesxstlyeuzhzysg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpcXRoZXN4c3RseWV1emh6eXNnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTcxMjcwMjgxOCwiZXhwIjoyMDI4Mjc4ODE4fQ.motz3a-myP0nKIzVmlGpWTlc1GlVGUQelco62fC_Qw4");var tt=a(2484);const at=new Ye(et),nt=(0,n.Ef)(L);nt.component("IconifyIcon",tt.In),nt.provide("crudService",at),nt.use(Ue).use(Ze).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,i){if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],i=e[u][2];for(var s=!0,c=0;c<n.length;c++)(!1&i||o>=i)&&Object.keys(a.O).every((function(e){return a.O[e](n[c])}))?n.splice(c--,1):(s=!1,i<o&&(o=i));if(s){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,r,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);a.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return n[e]}}));return o["default"]=function(){return n},a.d(i,o),i}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+".73f4481c.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="lab-crud:";a.l=function(n,r,i,o){if(e[n])e[n].push(r);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[r];var p=function(t,a){s.onerror=s.onload=null,clearTimeout(m);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(a)})),t)return t(a)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.f.j=function(t,n){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(a,n){r=e[t]=[a,n]}));n.push(r[2]=i);var o=a.p+a.u(t),s=new Error,c=function(n){if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}};a.l(o,c,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,o=n[0],s=n[1],c=n[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(c)var u=c(a)}for(t&&t(n);l<o.length;l++)i=o[l],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(u)},n=self["webpackChunklab_crud"]=self["webpackChunklab_crud"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(732)}));n=a.O(n)})();
//# sourceMappingURL=app.249297dc.js.map